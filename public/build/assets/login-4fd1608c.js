import{p as k}from"./profile-img-1e13af7a.js";import{l as C}from"./logo-9faa3827.js";import{a as E}from"./axios-4d564c32.js";import{c as S}from"./helper-6e62c89a.js";import{_ as V,r as l,e as F,a as t,w as s,o as A,b as e,d as n,t as c,x as I}from"../js/app2.js";const N={data(){return{auth:{email:"",password:""},profileImg:k,logo:C,processing:!1,authError:null,isAuthError:!1,constants:S}},beforeCreate(){localStorage.getItem("user")&&this.$router.push("/")},methods:{async login(){this.processing=!0,await E.post("/api/auth/login",this.auth).then(({data:o})=>{if(o.error==!1&&o.message=="success"){const r={login:!0,user_id:o.result.user.id,name:o.result.user.name,email:o.result.user.email};localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("accessToken",JSON.stringify(o.result.access_token)),this.$router.push("/")}else o.error==!0&&(this.authError=o.message,this.isAuthError=!0)}).catch(({response:{data:o}})=>{o.error==!0&&(this.authError=o.message,this.isAuthError=!0)}).finally(()=>{this.processing=!1})}}},j={class:"account-pages my-5 pt-5"},O={class:"bg-primary-subtle"},P=e("div",{class:"text-primary p-4"},[e("h5",{class:"text-primary"},"Welcome Back !"),e("p",null,"Sign in to continue to .")],-1),T=["src"],D={class:"avatar-md profile-user-wid mb-4"},L={class:"avatar-title rounded-circle bg-light"},R=["src"],U={class:"mt-3 d-grid"},G={class:"mt-4 text-center"},J={class:"font-size-14 mb-3"},M={class:"list-inline"},Y={class:"list-inline-item"},z=e("i",{class:"mdi mdi-facebook"},null,-1),W={class:"list-inline-item"},q=e("i",{class:"mdi mdi-twitter"},null,-1),H={class:"list-inline-item"},K=e("i",{class:"mdi mdi-google"},null,-1),Q={class:"mt-4 text-center"},X=e("i",{class:"mdi mdi-lock mr-1"},null,-1),Z={class:"mt-5 text-center"},$=e("i",{class:"mdi mdi-heart text-danger"},null,-1);function ee(o,r,te,se,i,f){const d=l("BCol"),_=l("BRow"),u=l("router-link"),g=l("BAlert"),p=l("BFormInput"),h=l("BFormGroup"),b=l("BFormCheckbox"),B=l("BButton"),m=l("BLink"),w=l("BForm"),v=l("BCardBody"),x=l("BCard"),y=l("BContainer");return A(),F("div",j,[t(y,null,{default:s(()=>[t(_,{class:"justify-content-center"},{default:s(()=>[t(d,{md:"8",lg:"6",xl:"5"},{default:s(()=>[t(x,{"no-body":"",class:"overflow-hidden"},{default:s(()=>[e("div",O,[t(_,null,{default:s(()=>[t(d,{cols:"7"},{default:s(()=>[P]),_:1}),t(d,{cols:"5",class:"align-self-end"},{default:s(()=>[e("img",{src:i.profileImg,alt:"",class:"img-fluid"},null,8,T)]),_:1})]),_:1})]),t(v,{class:"pt-0"},{default:s(()=>[e("div",null,[t(u,{to:"/"},{default:s(()=>[e("div",D,[e("span",L,[e("img",{src:i.logo,alt:"",height:"34"},null,8,R)])])]),_:1})]),t(g,{modelValue:i.isAuthError,"onUpdate:modelValue":r[0]||(r[0]=a=>i.isAuthError=a),variant:"danger",class:"mt-3",dismissible:""},{default:s(()=>[n(c(i.authError),1)]),_:1},8,["modelValue"]),t(w,{class:"p-2",action:"javascript:void(0)",method:"POST"},{default:s(()=>[I(o.$slots,"default"),t(h,{id:"input-group-1",label:"Email","label-for":"input-1",class:"mb-3"},{default:s(()=>[t(p,{id:"input-1",name:"email",modelValue:i.auth.email,"onUpdate:modelValue":r[1]||(r[1]=a=>i.auth.email=a),type:"text",placeholder:"Enter email"},null,8,["modelValue"])]),_:1}),t(h,{id:"input-group-2",label:"Password","label-for":"input-2",class:"mb-3"},{default:s(()=>[t(p,{id:"input-2",modelValue:i.auth.password,"onUpdate:modelValue":r[2]||(r[2]=a=>i.auth.password=a),name:"password",type:"password",placeholder:"Enter password"},null,8,["modelValue"])]),_:1}),t(b,{id:"customControlInline",name:"checkbox-1",value:"accepted","unchecked-value":"not_accepted"},{default:s(()=>[n(" Remember me ")]),_:1}),e("div",U,[t(B,{ariant:"primary",type:"submit",disabled:i.processing,onClick:f.login,class:"btn-block"},{default:s(()=>[n(c(i.processing?"Please wait":"Login"),1)]),_:1},8,["disabled","onClick"])]),e("div",G,[e("h5",J,"Sign in with "+c(i.constants.COMPANY_NAME),1),e("ul",M,[e("li",Y,[t(m,{href:"javascript: void(0);",class:"social-list-item bg-primary text-white border-primary"},{default:s(()=>[z]),_:1})]),e("li",W,[t(m,{href:"javascript: void(0);",class:"social-list-item bg-info text-white border-info"},{default:s(()=>[q]),_:1})]),e("li",H,[t(m,{href:"javascript: void(0);",class:"social-list-item bg-danger text-white border-danger"},{default:s(()=>[K]),_:1})])])]),e("div",Q,[t(u,{to:"/forget-password",class:"text-muted"},{default:s(()=>[X,n(" Forgot your password? ")]),_:1})])]),_:3})]),_:3})]),_:3}),e("div",Z,[e("p",null,[n(" Don't have an account ? "),t(u,{to:"/auth/register",class:"fw-medium text-primary"},{default:s(()=>[n("Signup now")]),_:1})]),e("p",null,[n(" Â© "+c(new Date().getFullYear())+" Skote. Crafted with ",1),$,n(" by Themesbrand ")])])]),_:3})]),_:3})]),_:3})])}const ae=V(N,[["render",ee]]);export{ae as default};
